"use strict";(self["webpackChunkqexal"]=self["webpackChunkqexal"]||[]).push([[219],{4219:function(e,t,a){a.r(t),a.d(t,{default:function(){return E}});var l=a(641),i=a(3751),n=a(33),s=a(8745);const r={class:"container mt-4 cb"},o={class:"card"},d={class:"card-body"},c={class:"row"},u={class:"col-12 mb-4"},m={class:"text-center mt-4"},g=["src"],h={key:1,src:s,alt:"صورة العارض",class:"img-fluid rounded mb-2",style:{"max-height":"200px"}},L={class:"col-md-12"},f={class:""},p={class:"col-12"},b={class:"card mt-4"},k={class:"card-body"},y={class:"table-responsive"},F={class:"table table-striped table-hover"},I=["src"],C={key:1,src:s,alt:"صورة العارض",class:"img-thumbnail",style:{height:"50px"}},w={class:"btn-group"},D=["onClick"],S=["onClick"],v={class:"row"},x={class:"col-12 mb-4"},j={class:"text-center mt-4"},M=["src"],P={key:1,src:s,alt:"صورة العارض",class:"img-fluid rounded mb-2",style:{"max-height":"200px"}},X={class:"col-md-12"},V={class:""},N={class:"col-12"};function T(e,t,a,s,T,G){const H=(0,l.g2)("BFormSelect"),Q=(0,l.g2)("BButton"),A=(0,l.g2)("b-pagination"),U=(0,l.g2)("BModal");return(0,l.uX)(),(0,l.CE)("div",r,[t[17]||(t[17]=(0,l.Lk)("h1",{class:"text-center mb-4"},"عارض الصور",-1)),(0,l.Lk)("div",o,[(0,l.Lk)("div",d,[(0,l.Lk)("form",{onSubmit:t[2]||(t[2]=(0,i.D$)(((...e)=>G.addSlider&&G.addSlider(...e)),["prevent"])),class:"row g-3"},[(0,l.Lk)("div",c,[(0,l.Lk)("div",u,[(0,l.Lk)("div",m,[T.previewImage?((0,l.uX)(),(0,l.CE)("img",{key:0,src:T.previewImage,alt:"صورة العارض",class:"img-fluid rounded mb-2",style:{"max-height":"200px"}},null,8,g)):((0,l.uX)(),(0,l.CE)("img",h))]),(0,l.Lk)("div",null,[t[8]||(t[8]=(0,l.Lk)("label",{for:"featuredImageFile",class:"mt-2 mb-2"},"الصورة المميزة",-1)),(0,l.Lk)("input",{id:"featuredImageFile",type:"file",class:"form-control",onChange:t[0]||(t[0]=(...e)=>G.onFileChange&&G.onFileChange(...e)),accept:"image/*",required:""},null,32)])]),(0,l.Lk)("div",L,[t[9]||(t[9]=(0,l.Lk)("label",{class:"mt-2 mb-2"},"المؤتمر",-1)),(0,l.Lk)("div",f,[(0,l.bF)(H,{modelValue:T.form.conferenceVersionID,"onUpdate:modelValue":t[1]||(t[1]=e=>T.form.conferenceVersionID=e),options:T.conferenceVersionsList,class:"form-select",required:""},null,8,["modelValue","options"])])])]),(0,l.Lk)("div",p,[(0,l.bF)(Q,{type:"submit",variant:"primary",loading:T.isLoading,"loading-text":"يرجى الانتظار",disabled:T.isLoading},{default:(0,l.k6)((()=>t[10]||(t[10]=[(0,l.eW)(" إضافة ")]))),_:1},8,["loading","disabled"])])],32)])]),(0,l.Lk)("div",b,[(0,l.Lk)("div",k,[(0,l.Lk)("div",y,[(0,l.Lk)("table",F,[t[13]||(t[13]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"#"),(0,l.Lk)("th",null,"الصورة"),(0,l.Lk)("th",null,"المؤتمر"),(0,l.Lk)("th",null,"الإجراءات")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(T.Sliders,((e,a)=>((0,l.uX)(),(0,l.CE)("tr",{key:e.id},[(0,l.Lk)("td",null,(0,n.v_)((T.currentPage-1)*T.pageSize+a+1),1),(0,l.Lk)("td",null,[e.imageFullUrl?((0,l.uX)(),(0,l.CE)("img",{key:0,src:e.imageFullUrl,alt:"صورة العارض",class:"img-thumbnail",style:{height:"50px"}},null,8,I)):((0,l.uX)(),(0,l.CE)("img",C))]),(0,l.Lk)("td",null,(0,n.v_)(null!=e.conferenceVersion?e.conferenceVersion.arabicName:"-"),1),(0,l.Lk)("td",null,[(0,l.Lk)("div",w,[(0,l.Lk)("button",{class:"btn btn-sm btn-warning",onClick:t=>G.openEditModal(e),title:"تعديل"},t[11]||(t[11]=[(0,l.Lk)("i",{class:"fa fa-edit"},null,-1)]),8,D),(0,l.Lk)("button",{class:"btn btn-sm btn-danger",onClick:t=>G.deleteSlider(e.id),title:"حذف"},t[12]||(t[12]=[(0,l.Lk)("i",{class:"fa fa-trash"},null,-1)]),8,S)])])])))),128))])])]),T.totalPages>1?((0,l.uX)(),(0,l.Wv)(A,{key:0,modelValue:T.currentPage,"onUpdate:modelValue":t[3]||(t[3]=e=>T.currentPage=e),"total-rows":T.totalCount,"per-page":T.pageSize,align:"center",class:"mt-3",onChange:G.fetchSliders},null,8,["modelValue","total-rows","per-page","onChange"])):(0,l.Q3)("",!0)])]),(0,l.bF)(U,{modelValue:T.editModal,"onUpdate:modelValue":t[7]||(t[7]=e=>T.editModal=e),title:"تعديل الصورة","hide-footer":"","hide-header":"",size:"lg"},{default:(0,l.k6)((()=>[(0,l.Lk)("form",{onSubmit:t[6]||(t[6]=(0,i.D$)(((...e)=>G.updateSlider&&G.updateSlider(...e)),["prevent"])),class:"row g-3"},[(0,l.Lk)("div",v,[(0,l.Lk)("div",x,[(0,l.Lk)("div",j,[T.editForm.featuredImageFullUrl?((0,l.uX)(),(0,l.CE)("img",{key:0,src:T.editForm.featuredImageFullUrl,alt:"صورة العارض",class:"img-fluid rounded mb-2",style:{"max-height":"200px"}},null,8,M)):((0,l.uX)(),(0,l.CE)("img",P))]),(0,l.Lk)("div",null,[t[14]||(t[14]=(0,l.Lk)("label",{for:"editFeaturedImageFile",class:"mt-2 mb-2"},"الصورة المميزة",-1)),(0,l.Lk)("input",{id:"editFeaturedImageFile",type:"file",class:"form-control",onChange:t[4]||(t[4]=(...e)=>G.onFileEditChange&&G.onFileEditChange(...e)),accept:"image/*"},null,32)])]),(0,l.Lk)("div",X,[t[15]||(t[15]=(0,l.Lk)("label",{class:"mt-2 mb-2"},"المؤتمر",-1)),(0,l.Lk)("div",V,[(0,l.bF)(H,{modelValue:T.editForm.conferenceVersionID,"onUpdate:modelValue":t[5]||(t[5]=e=>T.editForm.conferenceVersionID=e),options:T.conferenceVersionsList,class:"form-select"},null,8,["modelValue","options"])])])]),(0,l.Lk)("div",N,[(0,l.bF)(Q,{type:"submit",variant:"primary",loading:T.isLoading,"loading-text":"يرجى الانتظار",disabled:T.isLoading},{default:(0,l.k6)((()=>t[16]||(t[16]=[(0,l.eW)(" تعديل ")]))),_:1},8,["loading","disabled"])])],32)])),_:1},8,["modelValue"])])}var G=a(1631),H=a(2543),Q={data(){return{previewImage:null,searchQuery:"",previewModal:!1,selectedSlider:null,totalPages:0,totalCount:0,pageSize:10,currentPage:1,isLoading:!1,editModal:!1,form:{TheImage:null,conferenceVersionID:null},editForm:{id:null,conferenceVersionID:null,featuredImageFullUrl:null,featuredImageFile:null},Sliders:[],conferenceVersionsList:[]}},created(){this.debounceSearch=(0,H.debounce)((()=>{this.currentPage=1,this.fetchSliders()}),500)},methods:{async onFileChange(e){const t=e.target.files[0];t&&(this.form.TheImage=t,this.previewImage=URL.createObjectURL(t))},async onFileEditChange(e){const t=e.target.files[0];t&&(this.editForm.featuredImageFile=t,this.editForm.featuredImageFullUrl=URL.createObjectURL(t))},async fetchConferenceVersions(){try{const e=await G.A.get("ConferenceVersion/GetAllConferenceVersions?PageNumber=1&PageSize=100");this.conferenceVersionsList=e.data.items.map((e=>({text:`${e.arabicName} - ${e.year}`,value:e.id})))}catch(e){this.$toast.error("حدث خطأ أثناء جلب قائمة المؤتمرات")}},async fetchSliders(){this.isLoading=!0;try{const e=await G.A.get(`Slider/GetAllSliders?PageNumber=${this.currentPage}&PageSize=${this.pageSize}`);this.Sliders=e.data.items,this.totalPages=e.data.totalPages,this.totalCount=e.data.totalCount}catch(e){this.$toast.error("حدث خطأ أثناء جلب الصور")}finally{this.isLoading=!1}},async addSlider(){this.isLoading=!0;try{const e=new FormData;e.append("TheImage",this.form.TheImage),this.form.conferenceVersionID&&e.append("conferenceVersionID",this.form.conferenceVersionID),await G.A.post("Slider/AddSlider",e,{headers:{"Content-Type":"multipart/form-data"}}),await this.fetchSliders(),this.resetForm(),this.$toast.success("تم إضافة الصورة بنجاح")}catch(e){this.$toast.error("حدث خطأ أثناء إضافة الصورة")}finally{this.isLoading=!1}},async updateSlider(){this.isLoading=!0;try{const e=new FormData;this.editForm.featuredImageFile&&e.append("TheImage",this.editForm.featuredImageFile),this.editForm.conferenceVersionID&&e.append("conferenceVersionID",this.editForm.conferenceVersionID),await G.A.put(`Slider/UpdateSlider?id=${this.editForm.id}`,e,{headers:{"Content-Type":"multipart/form-data"}}),await this.fetchSliders(),this.editModal=!1,this.$toast.success("تم تحديث الصورة بنجاح")}catch(e){this.$toast.error("حدث خطأ أثناء تحديث الصورة")}finally{this.isLoading=!1}},async deleteSlider(e){const{value:t}=await this.$swal({title:"هل تريد حذف الصورة؟",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم",cancelButtonText:"لا"});if(t){this.isLoading=!0;try{await G.A.delete(`Slider/DeleteSlider?id=${e}`),await this.fetchSliders(),this.$toast.success("تم حذف الصورة بنجاح")}catch(a){this.$toast.error("حدث خطأ أثناء حذف الصورة")}finally{this.isLoading=!1}}},resetForm(){this.form={TheImage:null,conferenceVersionID:null},this.previewImage=null},openEditModal(e){this.editForm={id:e.id,conferenceVersionID:e.conferenceVersionID,featuredImageFullUrl:e.featuredImageFullUrl,featuredImageFile:null},this.editModal=!0}},mounted(){this.fetchConferenceVersions(),this.fetchSliders()}},A=a(6262);const U=(0,A.A)(Q,[["render",T]]);var E=U},8745:function(e){e.exports="data:image/webp;base64,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bPgnEvY7bliCVg6/ULDjbuxWg14uf6/TloHyXrFRTMR/jS123fNOeWjm669d2HfT9ylDN+e/lbD1eZc6KSf0v1Sw+Z73yEI72z/Uafdg2g5F6OfwZ9jiAKb9qdDQ9a94HMGLN4dJRRn+GxmH0LS9uaCj/Z9oOId5ZxK0dP4DbA4CPG9LhZqm8e88jqLtm8JGT8H9s4TDSGVPLmjq9I8azmPckQRd3f8JmwMBN7ajQllb/hcXjiTVzWCjrRD/QcKpTHvhoK/rf9ZwLj1vRITCNvxfmYMBO7ahQGX7/wpHk+omDNJZKAcGSFvAFkqbxomB5w0IUNvXkYEdy5ehuPORAdXFa1Dd/cgAeenY6C53aBBWzkF5p0MDx8sWoL77oYHpi5ahv+2pAZUla9Dg8dQAacEGqTC0YwPPq8UWOtzwsYHjxfLQ4uHcwPSlStDj9dyAykIVKHLD5wZIy9Sgyv3JQVikQboM5eTA8QqxhTInPjkwfYEuqHN/dEB1eSIUejk6QF6cBI1OfHaQliZDp/vDA78wFVo9Hx44XpVOao348MD0NRkGev06PaC2Imyh2fPpAcp6sINqp3F8kFaDHZT7dX4QFuOCes/nBxevhId+p3F+YMc6BGj46wDB9FUI0PE5gUB1DSKUPGUQkFcg4lsxPV/E12J4uojvRcePFvDFaMeDBXwzmv5YAV+NVB/K48MxPxE7fDrG52GLj8fwNN3g89HxozTCB6QdD1IIn5CmPUbCVySVh/D4kMxPwA6fkmF+zeBj8uLJZXxP2jEzDviiNH1e3eKbksqsMr4r05TY48vS83yKwbelHZNhj89L06ZSCF+YeR7s8ZHpeQ6cCJ+Zts+gGHxq5p9rDl+bbvxU8/jgpPQ79cJHpym/USw+PE0cf20kg69PV/jvcL7wCUqh8F/gEggfoi61f1OTw/coXTE3/n/jmqPDl6lxPoSUck4xBu8I/9///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M///M//ExMA"}}]);
//# sourceMappingURL=219.4269fa14.js.map