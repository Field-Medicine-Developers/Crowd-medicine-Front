"use strict";(self["webpackChunkqexal"]=self["webpackChunkqexal"]||[]).push([[403],{6457:function(e,o,t){t.d(o,{A:function(){return d}});var s=t(641);const n={class:"container mt-4 cb",dir:"rtl"};function a(e,o,t,a,i,l){const r=(0,s.g2)("BFormSelect");return(0,s.uX)(),(0,s.CE)("div",n,[o[2]||(o[2]=(0,s.Lk)("h2",{class:"text-center mb-4"},"اختر المؤتمر ",-1)),(0,s.bF)(r,{modelValue:i.form.conferenceVersionID,"onUpdate:modelValue":o[0]||(o[0]=e=>i.form.conferenceVersionID=e),options:i.conferenceVersionsList,onChange:o[1]||(o[1]=e=>l.fetchId())},null,8,["modelValue","options"])])}var i=t(1631),l={name:"conferenceVersionSelect",data(){return{conferenceVersionsList:[],form:{conferenceVersionID:null}}},methods:{async fetchConferenceVersions(){this.isLoading=!0;try{const e=await i.A.get("ConferenceVersion/GetAllConferenceVersions?PageNumber=1&PageSize=100");this.conferenceVersionsList=e.data.items.map((e=>({text:e.arabicName+" - "+e.year,value:e.id})))}catch(e){console.error("Error fetching conference versions:",e)}finally{this.isLoading=!1}},fetchId(){this.$emit("fetch-id",this.form.conferenceVersionID)}},mounted(){this.fetchConferenceVersions()}},r=t(6262);const c=(0,r.A)(l,[["render",a]]);var d=c},6403:function(e,o,t){t.r(o),t.d(o,{default:function(){return _}});var s=t(641),n=t(3751),a=t(33);const i={key:0,class:"container mt-4 cb",dir:"rtl"},l={class:"card"},r={class:"card-body"},c={class:"row"},d={class:"col-md-4"},u={class:"col-md-4"},m={class:"col-md-4"},f={class:"row"},h={class:"col-md-4"},p={class:"col-md-4"},b={class:"col-md-4"},L={class:"card mt-4"},k={class:"card-body"},g={class:"table table-striped table-hover mt-3"},V={class:"btn-group"},v=["onClick"],F=["onClick"],y={class:"row"},w={class:"col-md-4"},A={class:"mb-3"},Q={class:"col-md-4"},q={class:"mb-3"},I={class:"col-md-4"},x={class:"mb-3"},C={class:"row"},D={class:"col-md-4"},U={class:"col-md-4"},$={class:"col-md-4"};function P(e,o,t,P,E,J){const S=(0,s.g2)("conferenceVersionSelect"),M=(0,s.g2)("BButton"),B=(0,s.g2)("b-pagination"),_=(0,s.g2)("BModal");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(S,{onFetchId:J.fetchFaqs},null,8,["onFetchId"]),null!==E.conferenceVersionID?((0,s.uX)(),(0,s.CE)("div",i,[o[31]||(o[31]=(0,s.Lk)("h1",{class:"text-center mb-4"},"الاسئلة والاجوبة",-1)),(0,s.Lk)("div",l,[(0,s.Lk)("div",r,[(0,s.Lk)("form",{onSubmit:o[6]||(o[6]=(0,n.D$)(((...e)=>J.addFaqs&&J.addFaqs(...e)),["prevent"]))},[(0,s.Lk)("div",c,[(0,s.Lk)("div",d,[o[16]||(o[16]=(0,s.Lk)("label",{for:"arabicQuestion",class:"form-label"},"السؤال بالعربية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"arabicQuestion",type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>E.form.arabicQuestion=e),required:"",class:"form-control",placeholder:"السؤال بالعربية"},null,512),[[n.Jo,E.form.arabicQuestion]])]),(0,s.Lk)("div",u,[o[17]||(o[17]=(0,s.Lk)("label",{for:"englishQuestion",class:"form-label"},"السؤال بالانكليزية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"englishQuestion",type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>E.form.englishQuestion=e),required:"",class:"form-control",placeholder:"السؤال بالإنجليزية"},null,512),[[n.Jo,E.form.englishQuestion]])]),(0,s.Lk)("div",m,[o[18]||(o[18]=(0,s.Lk)("label",{for:"persianQuestion",class:"form-label"},"السؤال بالفارسية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"persianQuestion",type:"text","onUpdate:modelValue":o[2]||(o[2]=e=>E.form.persianQuestion=e),required:"",class:"form-control",placeholder:"السؤال بالفارسية"},null,512),[[n.Jo,E.form.persianQuestion]])])]),(0,s.Lk)("div",f,[(0,s.Lk)("div",h,[o[19]||(o[19]=(0,s.Lk)("label",{for:"arabicAnswer",class:"form-label"},"الجواب بالعربية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"arabicAnswer",type:"text","onUpdate:modelValue":o[3]||(o[3]=e=>E.form.arabicAnswer=e),required:"",class:"form-control",placeholder:"الجواب بالعربية"},null,512),[[n.Jo,E.form.arabicAnswer]])]),(0,s.Lk)("div",p,[o[20]||(o[20]=(0,s.Lk)("label",{for:"englishAnswer",class:"form-label"},"الجواب بالانكليزية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"englishAnswer",type:"text","onUpdate:modelValue":o[4]||(o[4]=e=>E.form.englishAnswer=e),required:"",class:"form-control",placeholder:"الجواب بالإنجليزية"},null,512),[[n.Jo,E.form.englishAnswer]])]),(0,s.Lk)("div",b,[o[21]||(o[21]=(0,s.Lk)("label",{for:"persianAnswer",class:"form-label"},"الجواب بالفارسية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"persianAnswer",type:"text","onUpdate:modelValue":o[5]||(o[5]=e=>E.form.persianAnswer=e),required:"",class:"form-control",placeholder:"الجواب بالفارسية"},null,512),[[n.Jo,E.form.persianAnswer]])])]),(0,s.bF)(M,{type:"submit",variant:"primary",loading:E.isLoading,"loading-text":"يرجى الانتظار",disabled:E.isLoading},{default:(0,s.k6)((()=>o[22]||(o[22]=[(0,s.eW)("اضافة")]))),_:1},8,["loading","disabled"])],32)])]),(0,s.Lk)("div",L,[(0,s.Lk)("div",k,[(0,s.Lk)("table",g,[o[23]||(o[23]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"الرقم"),(0,s.Lk)("th",null,"السؤال بالعربية"),(0,s.Lk)("th",null,"السؤال بالإنجليزية"),(0,s.Lk)("th",null,"السؤال بالفارسية"),(0,s.Lk)("th",null,"الإجراءات")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(E.Faqs,((e,o)=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id},[(0,s.Lk)("td",null,(0,a.v_)((E.currentPage-1)*E.pageSize+o+1),1),(0,s.Lk)("td",null,(0,a.v_)(e.arabicQuestion),1),(0,s.Lk)("td",null,(0,a.v_)(e.englishQuestion),1),(0,s.Lk)("td",null,(0,a.v_)(e.persianQuestion),1),(0,s.Lk)("td",null,[(0,s.Lk)("div",V,[(0,s.Lk)("button",{class:"btn btn-warning btn-sm",onClick:o=>J.openEditModal(e)}," تعديل ",8,v),(0,s.Lk)("button",{class:"btn btn-danger btn-sm",onClick:o=>J.deleteFaqs(e.id)}," حذف ",8,F)])])])))),128))])]),E.totalPages>1?((0,s.uX)(),(0,s.Wv)(B,{key:0,modelValue:E.currentPage,"onUpdate:modelValue":o[7]||(o[7]=e=>E.currentPage=e),"total-rows":E.totalCount,"per-page":E.pageSize,variant:"primary",class:"mt-3",onChange:e.fetchData},null,8,["modelValue","total-rows","per-page","onChange"])):(0,s.Q3)("",!0)])]),(0,s.bF)(_,{modelValue:E.editModal,"onUpdate:modelValue":o[15]||(o[15]=e=>E.editModal=e),"hide-footer":"","hide-header":""},{default:(0,s.k6)((()=>[(0,s.Lk)("form",{onSubmit:o[14]||(o[14]=(0,n.D$)(((...e)=>J.updateFaqs&&J.updateFaqs(...e)),["prevent"]))},[(0,s.Lk)("div",y,[(0,s.Lk)("div",w,[(0,s.Lk)("div",A,[o[24]||(o[24]=(0,s.Lk)("label",{for:"editArabicQuestion",class:"form-label"},"الاسم بالعربية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"editArabicQuestion",type:"text","onUpdate:modelValue":o[8]||(o[8]=e=>E.editForm.arabicQuestion=e),required:"",class:"form-control",placeholder:"السؤال بالعربية"},null,512),[[n.Jo,E.editForm.arabicQuestion]])])]),(0,s.Lk)("div",Q,[(0,s.Lk)("div",q,[o[25]||(o[25]=(0,s.Lk)("label",{for:"editEnglishQuestion",class:"form-label"},"السؤال بالإنجليزية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"editEnglishQuestion",type:"text","onUpdate:modelValue":o[9]||(o[9]=e=>E.editForm.englishQuestion=e),required:"",class:"form-control",placeholder:"السؤال بالإنجليزية"},null,512),[[n.Jo,E.editForm.englishQuestion]])])]),(0,s.Lk)("div",I,[(0,s.Lk)("div",x,[o[26]||(o[26]=(0,s.Lk)("label",{for:"editPersianQuestion",class:"form-label"},"السؤال بالفارسية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"editPersianQuestion",type:"text","onUpdate:modelValue":o[10]||(o[10]=e=>E.editForm.persianQuestion=e),required:"",class:"form-control",placeholder:"السؤال بالفارسية"},null,512),[[n.Jo,E.editForm.persianQuestion]])])])]),(0,s.Lk)("div",C,[(0,s.Lk)("div",D,[o[27]||(o[27]=(0,s.Lk)("label",{for:"arabicAnswer",class:"form-label"},"الجواب بالعربية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"arabicAnswer",type:"text","onUpdate:modelValue":o[11]||(o[11]=e=>E.editForm.arabicAnswer=e),required:"",class:"form-control",placeholder:"الجواب بالعربية"},null,512),[[n.Jo,E.editForm.arabicAnswer]])]),(0,s.Lk)("div",U,[o[28]||(o[28]=(0,s.Lk)("label",{for:"englishAnswer",class:"form-label"},"الجواب بالانكليزية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"englishAnswer",type:"text","onUpdate:modelValue":o[12]||(o[12]=e=>E.editForm.englishAnswer=e),required:"",class:"form-control",placeholder:"الجواب بالإنجليزية"},null,512),[[n.Jo,E.editForm.englishAnswer]])]),(0,s.Lk)("div",$,[o[29]||(o[29]=(0,s.Lk)("label",{for:"persianAnswer",class:"form-label"},"الجواب بالفارسية",-1)),(0,s.bo)((0,s.Lk)("input",{id:"persianAnswer",type:"text","onUpdate:modelValue":o[13]||(o[13]=e=>E.editForm.persianAnswer=e),required:"",class:"form-control",placeholder:"الجواب بالفارسية"},null,512),[[n.Jo,E.editForm.persianAnswer]])])]),(0,s.bF)(M,{type:"submit",variant:"primary",loading:E.isLoading,"loading-text":"يرجى الانتظار"},{default:(0,s.k6)((()=>o[30]||(o[30]=[(0,s.eW)("حفظ التغييرات")]))),_:1},8,["loading"])],32)])),_:1},8,["modelValue"])])):(0,s.Q3)("",!0)],64)}var E=t(1631),J=t(6457),S={components:{conferenceVersionSelect:J.A},data(){return{conferenceVersionID:null,totalPages:0,totalCount:0,pageSize:10,currentPage:1,isLoading:!1,editModal:!1,form:{conferenceVersionID:null},editForm:{id:null,conferenceVersionID:null},Faqs:[]}},methods:{async fetchFaqs(e){this.conferenceVersionID=e,this.form.conferenceVersionID=e;try{const o=await E.A.get(`Questions/GetAllQuestions?PageNumber=${this.currentPage}&PageSize=${this.pageSize}&conferenceVersionID=${e}`);this.Faqs=o.data.items}catch(o){console.error("Error fetching conference versions:",o)}},async addFaqs(){this.isLoading=!0;try{await E.A.post("Questions/AddQuestion",this.form),this.$toast.open({message:"تم بنجاح",type:"success"}),this.fetchFaqs(this.conferenceVersionID)}catch(e){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}},openEditModal(e){this.editForm={...e},this.editModal=!0},async updateFaqs(){this.isLoading=!0;try{await E.A.put(`Questions/UpdateQuestion?id=${this.editForm.id}`,this.editForm),this.fetchFaqs(this.conferenceVersionID),this.editModal=!1,this.$toast.open({message:"تم بنجاح",type:"success"})}catch(e){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}},async deleteFaqs(e){const{value:o}=await this.$swal({title:"هل انت متأكد من الحذف",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم",cancelButtonText:"لا"});if(o){this.isLoading=!0;try{await E.A.delete(`Questions/DeleteQuestion?id=${e}`),this.fetchFaqs(this.conferenceVersionID),this.$toast.open({message:"تم بنجاح",type:"success"})}catch(t){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}}},resetForm(){this.form={conferenceVersionID:this.conferenceVersionID}},resetEditForm(){this.editForm={id:null}}},watch:{currentPage(){this.fetchFaqs(this.conferenceVersionID)}}},M=t(6262);const B=(0,M.A)(S,[["render",P]]);var _=B}}]);
//# sourceMappingURL=403.898c1909.js.map