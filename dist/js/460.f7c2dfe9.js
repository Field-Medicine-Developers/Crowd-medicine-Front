"use strict";(self["webpackChunkqexal"]=self["webpackChunkqexal"]||[]).push([[460],{9460:function(e,i,t){t.r(i),t.d(i,{default:function(){return X}});var l=t(641);const o={key:0,class:"flex justify-center items-center py-8"},a={key:1};function s(e,i,t,s,n,d){const r=(0,l.g2)("File");return(0,l.uX)(),(0,l.CE)("div",null,[n.isLoading?((0,l.uX)(),(0,l.CE)("div",o,i[0]||(i[0]=[(0,l.Lk)("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):((0,l.uX)(),(0,l.CE)("div",a,[(0,l.bF)(r,{FilesList:n.Files,isHome:!1},null,8,["FilesList"])]))])}var n=t(33);const d={class:"file-library section py-5",id:"file"},r={class:"container"},c={class:"section-title text-center mb-5"},f={class:"row"},u={class:"file-card"},p={class:"file-card-icon"},m={class:"file-card-body"},h={class:"file-card-title"},v={class:"d-flex justify-content-between align-items-center"},x=["onClick"],F=["href"],g={class:"text-muted"},k={class:"video-container"},y=["src"];function b(e,i,t,o,a,s){const b=(0,l.g2)("router-link"),L=(0,l.g2)("b-modal");return(0,l.uX)(),(0,l.CE)("section",d,[(0,l.Lk)("div",r,[(0,l.Lk)("h2",c,[(0,l.eW)((0,n.v_)(e.$t("Filelibrary"))+" - ",1),(0,l.bF)(b,{to:`/conference/${a.cId}`},{default:(0,l.k6)((()=>[(0,l.eW)((0,n.v_)(e.$t("back")),1)])),_:1},8,["to"])]),(0,l.Lk)("div",f,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.FilesList,((t,o)=>((0,l.uX)(),(0,l.CE)("div",{class:"col-md-4 col-sm-6",key:o},[(0,l.Lk)("div",u,[(0,l.Lk)("div",p,[(0,l.Lk)("i",{class:(0,n.C4)([s.getFileIcon(t.fileType),"file-icon"])},null,2)]),(0,l.Lk)("div",m,[(0,l.Lk)("h5",h,(0,n.v_)(s.getfileLocalized("Description",o)),1),(0,l.Lk)("div",v,[s.isVideoFile(t.fileType)?((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-outline-primary",onClick:e=>s.openVideoModal(t)},[i[1]||(i[1]=(0,l.Lk)("i",{class:"fa fa-play-circle mr-1"},null,-1)),(0,l.eW)(" "+(0,n.v_)(e.$t("playVideo")),1)],8,x)):((0,l.uX)(),(0,l.CE)("a",{key:1,href:t.theFileFullUrl,target:"_blank",class:"btn btn-outline-primary"},(0,n.v_)(e.$t("download")),9,F)),(0,l.Lk)("small",g,(0,n.v_)(s.formatFileSize(t.fileSize)),1)])])])])))),128))])]),(0,l.bF)(L,{modelValue:a.showVideoModal,"onUpdate:modelValue":i[0]||(i[0]=e=>a.showVideoModal=e),size:"xl","hide-footer":"","hide-header":"",class:"video-modal","body-class":"p-0"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",k,[a.selectedVideo?((0,l.uX)(),(0,l.CE)("video",{key:0,src:a.selectedVideo.theFileFullUrl,controls:"",class:"w-100",controlsList:"nodownload"},(0,n.v_)(e.$t("videoNotSupported")),9,y)):(0,l.Q3)("",!0)])])),_:1},8,["modelValue"])])}var L={props:{FilesList:{type:Array,required:!0}},data(){return{isLoading:!1,cId:this.$route.params.id,showVideoModal:!1,selectedVideo:null}},methods:{getFileIcon(e){const i={pdf:"fa fa-file-pdf-o text-danger",doc:"fa fa-file-word-o text-primary",docx:"fa fa-file-word-o text-primary",xls:"fa fa-file-excel-o text-success",xlsx:"fa fa-file-excel-o text-success",ppt:"fa fa-file-powerpoint-o text-warning",pptx:"fa fa-file-powerpoint-o text-warning",zip:"fa fa-file-archive-o text-secondary",txt:"fa fa-file-text-o text-muted",png:"fa fa-file-image-o text-info",jpg:"fa fa-file-image-o text-info",jpeg:"fa fa-file-image-o text-info",gif:"fa fa-file-image-o text-info",webp:"fa fa-file-image-o text-info",mp4:"fa fa-file-video-o text-danger",webm:"fa fa-file-video-o text-danger",mov:"fa fa-file-video-o text-danger",default:"fa fa-file-o text-secondary"};return i[e]||i.default},isVideoFile(e){const i=["mp4","webm","mov"];return i.includes(e)},openVideoModal(e){this.selectedVideo=e,this.showVideoModal=!0},getfileLocalized(e,i){const t={ar:"arabic",en:"english",fa:"persian"},l=t[this.$i18n.locale];return this.FilesList[i]&&this.FilesList[i][`${l}${e}`]||""},formatFileSize(e){return e<1024?e+" B":e<1048576?(e/1024).toFixed(2)+" KB":(e/1048576).toFixed(2)+" MB"}}},w=t(6262);const V=(0,w.A)(L,[["render",b],["__scopeId","data-v-5af0d51e"]]);var C=V,$=t(1631),_={components:{File:C},data(){return{id:this.$route.params.id,isLoading:!1,Files:[]}},methods:{async fetchFiles(){this.isLoading=!0;try{const e=await $.A.get(`Files/GetAllFiles?conferenceVersionID=${this.id}`);this.Files=e.data.items,console.log("Files:",this.Files)}catch(e){console.error("Error fetching conference versions:",e)}finally{this.isLoading=!1}}},mounted(){this.fetchFiles()}};const E=(0,w.A)(_,[["render",s]]);var X=E}}]);
//# sourceMappingURL=460.f7c2dfe9.js.map