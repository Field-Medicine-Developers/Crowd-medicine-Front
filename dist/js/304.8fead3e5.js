"use strict";(self["webpackChunkqexal"]=self["webpackChunkqexal"]||[]).push([[304],{1304:function(e,a,t){t.r(a),t.d(a,{default:function(){return x}});var i=t(641),o=t(3751),l=t(33);const r={class:"container mt-4 cb",dir:"rtl"},s={class:"card"},n={class:"card-body"},d={class:"row"},c={class:"col-md-4"},m={class:"col-md-4"},u={class:"col-md-4"},g={class:"card mt-4"},p={class:"card-body"},h={class:"table table-striped table-hover mt-3"},b={class:"btn-group"},f=["onClick"],k=["onClick"],L={class:"mb-3"},N={class:"mb-3"},y={class:"mb-3"};function C(e,a,t,C,v,F){const w=(0,i.g2)("BButton"),P=(0,i.g2)("b-pagination"),x=(0,i.g2)("BModal");return(0,i.uX)(),(0,i.CE)("div",r,[a[19]||(a[19]=(0,i.Lk)("h1",{class:"text-center mb-4"},"اقسام المدونة",-1)),(0,i.Lk)("div",s,[(0,i.Lk)("div",n,[(0,i.Lk)("form",{onSubmit:a[3]||(a[3]=(0,o.D$)(((...e)=>F.addCategories&&F.addCategories(...e)),["prevent"]))},[(0,i.Lk)("div",d,[(0,i.Lk)("div",c,[a[10]||(a[10]=(0,i.Lk)("label",{for:"arabicName",class:"form-label"},"الاسم بالعربية",-1)),(0,i.bo)((0,i.Lk)("input",{id:"arabicName",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>v.form.arabicName=e),required:"",class:"form-control",placeholder:"الاسم بالعربية"},null,512),[[o.Jo,v.form.arabicName]])]),(0,i.Lk)("div",m,[a[11]||(a[11]=(0,i.Lk)("label",{for:"englishName",class:"form-label"},"الاسم بالإنجليزية",-1)),(0,i.bo)((0,i.Lk)("input",{id:"englishName",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>v.form.englishName=e),required:"",class:"form-control",placeholder:"الاسم بالإنجليزية"},null,512),[[o.Jo,v.form.englishName]])]),(0,i.Lk)("div",u,[a[12]||(a[12]=(0,i.Lk)("label",{for:"persianName",class:"form-label"},"الاسم بالفارسية",-1)),(0,i.bo)((0,i.Lk)("input",{id:"persianName",type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>v.form.persianName=e),required:"",class:"form-control",placeholder:"الاسم بالفارسية"},null,512),[[o.Jo,v.form.persianName]])])]),(0,i.bF)(w,{type:"submit",variant:"primary",loading:v.isLoading,"loading-text":"يرجى الانتظار",disabled:v.isLoading},{default:(0,i.k6)((()=>a[13]||(a[13]=[(0,i.eW)("اضافة")]))),_:1},8,["loading","disabled"])],32)])]),(0,i.Lk)("div",g,[(0,i.Lk)("div",p,[(0,i.Lk)("table",h,[a[14]||(a[14]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"الرقم"),(0,i.Lk)("th",null,"الاسم بالعربية"),(0,i.Lk)("th",null,"الاسم بالإنجليزية"),(0,i.Lk)("th",null,"الاسم بالفارسية"),(0,i.Lk)("th",null,"الإجراءات")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(v.categories,((e,a)=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id},[(0,i.Lk)("td",null,(0,l.v_)((v.currentPage-1)*v.pageSize+a+1),1),(0,i.Lk)("td",null,(0,l.v_)(e.arabicName),1),(0,i.Lk)("td",null,(0,l.v_)(e.englishName),1),(0,i.Lk)("td",null,(0,l.v_)(e.persianName),1),(0,i.Lk)("td",null,[(0,i.Lk)("div",b,[(0,i.Lk)("button",{class:"btn btn-warning btn-sm",onClick:a=>F.openEditModal(e)}," تعديل ",8,f),(0,i.Lk)("button",{class:"btn btn-danger btn-sm",onClick:a=>F.deleteCategories(e.id)}," حذف ",8,k)])])])))),128))])]),v.totalPages>1?((0,i.uX)(),(0,i.Wv)(P,{key:0,modelValue:v.currentPage,"onUpdate:modelValue":a[4]||(a[4]=e=>v.currentPage=e),"total-rows":v.totalCount,"per-page":v.pageSize,variant:"primary",class:"mt-3",onChange:e.fetchData},null,8,["modelValue","total-rows","per-page","onChange"])):(0,i.Q3)("",!0)])]),(0,i.bF)(x,{modelValue:v.editModal,"onUpdate:modelValue":a[9]||(a[9]=e=>v.editModal=e),"hide-footer":"","hide-header":""},{default:(0,i.k6)((()=>[(0,i.Lk)("form",{onSubmit:a[8]||(a[8]=(0,o.D$)(((...e)=>F.updateCategories&&F.updateCategories(...e)),["prevent"]))},[(0,i.Lk)("div",L,[a[15]||(a[15]=(0,i.Lk)("label",{for:"editArabicName",class:"form-label"},"الاسم بالعربية",-1)),(0,i.bo)((0,i.Lk)("input",{id:"editArabicName",type:"text","onUpdate:modelValue":a[5]||(a[5]=e=>v.editForm.arabicName=e),required:"",class:"form-control",placeholder:"الاسم بالعربية"},null,512),[[o.Jo,v.editForm.arabicName]])]),(0,i.Lk)("div",N,[a[16]||(a[16]=(0,i.Lk)("label",{for:"editEnglishName",class:"form-label"},"الاسم بالإنجليزية",-1)),(0,i.bo)((0,i.Lk)("input",{id:"editEnglishName",type:"text","onUpdate:modelValue":a[6]||(a[6]=e=>v.editForm.englishName=e),required:"",class:"form-control",placeholder:"الاسم بالإنجليزية"},null,512),[[o.Jo,v.editForm.englishName]])]),(0,i.Lk)("div",y,[a[17]||(a[17]=(0,i.Lk)("label",{for:"editPersianName",class:"form-label"},"الاسم بالفارسية",-1)),(0,i.bo)((0,i.Lk)("input",{id:"editPersianName",type:"text","onUpdate:modelValue":a[7]||(a[7]=e=>v.editForm.persianName=e),required:"",class:"form-control",placeholder:"الاسم بالفارسية"},null,512),[[o.Jo,v.editForm.persianName]])]),(0,i.bF)(w,{type:"submit",variant:"primary",loading:v.isLoading,"loading-text":"يرجى الانتظار"},{default:(0,i.k6)((()=>a[18]||(a[18]=[(0,i.eW)("حفظ التغييرات")]))),_:1},8,["loading"])],32)])),_:1},8,["modelValue"])])}var v=t(1631),F={data(){return{totalPages:0,totalCount:0,pageSize:10,currentPage:1,isLoading:!1,editModal:!1,form:{arabicName:"",englishName:"",persianName:"",year:""},editForm:{id:null,arabicName:"",englishName:"",persianName:"",year:""},categories:[]}},methods:{async fetchcategories(){try{const e=await v.A.get(`Category/GetAllCategories?PageNumber=${this.currentPage}&PageSize=${this.pageSize}`);this.categories=e.data.items,this.totalPages=e.data.totalPages,this.totalCount=e.data.totalCount,this.pageNumber=e.data.pageNumber}catch(e){console.error("Error fetching conference versions:",e)}},async addCategories(){this.isLoading=!0;var e=new FormData;e.append("ArabicName",this.form.arabicName),e.append("EnglishName",this.form.englishName),e.append("PersianName",this.form.persianName);try{await v.A.post("Category/AddCategory",e,{headers:{"Content-Type":"multipart/form-data"}}),this.fetchcategories(),this.resetForm(),this.$toast.open({message:"تم بنجاح",type:"success"})}catch(a){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}},openEditModal(e){this.editForm={...e},this.editModal=!0},async updateCategories(){this.isLoading=!0;try{await v.A.put(`Category/UpdateCategory?id=${this.editForm.id}`,this.editForm),this.fetchcategories(),this.editModal=!1,this.$toast.open({message:"تم بنجاح",type:"success"})}catch(e){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}},async deleteCategories(e){const{value:a}=await this.$swal({title:"هل انت متأكد من الحذف",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم",cancelButtonText:"لا"});if(a){this.isLoading=!0;try{await v.A.delete(`Category/DeleteCategory?id=${e}`),this.fetchcategories(),this.$toast.open({message:"تم بنجاح",type:"success"})}catch(t){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}}},resetForm(){this.form={arabicName:"",englishName:"",persianName:"",year:""}},resetEditForm(){this.editForm={id:null,arabicName:"",englishName:"",persianName:"",year:""}}},watch:{currentPage(){this.fetchcategories()}},created(){this.fetchcategories()}},w=t(6262);const P=(0,w.A)(F,[["render",C],["__scopeId","data-v-7556b5e2"]]);var x=P}}]);
//# sourceMappingURL=304.8fead3e5.js.map