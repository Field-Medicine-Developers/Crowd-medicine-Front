"use strict";(self["webpackChunkqexal"]=self["webpackChunkqexal"]||[]).push([[814],{3645:function(e,a,l){l.d(a,{A:function(){return T}});var t=l(641),s=l(33);const o={class:"blog section",id:"blog"},i={class:"container"},n={class:"section-header"},c={class:"section-title mb-3"},g={class:"blog-grid"},r={class:"blog-card"},d={class:"blog-card-img"},u=["src","alt"],b={class:"blog-overlay"},L={class:"blog-meta"},k={class:"blog-date"},h={key:0,class:"blog-category"},f={class:"blog-card-body"},p={class:"blog-card-title"},v={class:"blog-card-text"},m={class:"blog-card-footer"},y=["onClick"],B={key:0,class:"blog-cta"},C={key:1,class:"no-blogs"},$={class:"blog-detail"},_={class:"blog-detail-img"},z=["src","alt"],I={class:"blog-detail-meta"},A={class:"blog-detail-date"},w={key:0,class:"blog-detail-author"},x={class:"blog-detail-content"},E={class:"blog-detail-title"},N=["innerHTML"],X={class:"blog-detail-footer"};function S(e,a,l,S,F,M){const P=(0,t.g2)("RouterLink"),T=(0,t.g2)("b-modal");return(0,t.uX)(),(0,t.CE)(t.FK,null,[(0,t.Lk)("section",o,[(0,t.Lk)("div",i,[(0,t.Lk)("div",n,[(0,t.Lk)("h2",c,(0,s.v_)(e.$t("blog")),1)]),(0,t.Lk)("div",g,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(l.blogsList,((l,o)=>((0,t.uX)(),(0,t.CE)("div",{class:"blog-item",key:l.id},[(0,t.Lk)("div",r,[(0,t.Lk)("div",d,[(0,t.Lk)("img",{src:l.featuredImageFullUrl,alt:M.getBlogLocalized("BlogTitle",o),class:"img-fluid"},null,8,u),(0,t.Lk)("div",b,[(0,t.Lk)("div",L,[(0,t.Lk)("span",k,[a[1]||(a[1]=(0,t.Lk)("i",{class:"fa fa-calendar-alt"},null,-1)),(0,t.eW)(" "+(0,s.v_)(M.formatDate(l.updatedAt||l.createdAt)),1)]),l.category?((0,t.uX)(),(0,t.CE)("span",h,[a[2]||(a[2]=(0,t.Lk)("i",{class:"fa fa-folder"},null,-1)),(0,t.eW)(" "+(0,s.v_)(l.category.arabicName),1)])):(0,t.Q3)("",!0)])])]),(0,t.Lk)("div",f,[(0,t.Lk)("h5",p,(0,s.v_)(M.getBlogLocalized("BlogTitle",o)),1),(0,t.Lk)("div",v,(0,s.v_)(M.truncateContent(M.getBlogLocalized("Content",o))),1),(0,t.Lk)("div",m,[(0,t.Lk)("button",{class:"blog-read-more",onClick:e=>M.readMoreInfo(o)},[(0,t.Lk)("span",null,(0,s.v_)(e.$t("readMore")),1),a[3]||(a[3]=(0,t.Lk)("i",{class:"fa fa-arrow-right"},null,-1))],8,y)])])])])))),128))]),l.isHome&&l.blogsList.length>0?((0,t.uX)(),(0,t.CE)("div",B,[(0,t.bF)(P,{to:"/blog",class:"show-all-btn"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",null,(0,s.v_)(e.$t("showAll")),1),a[4]||(a[4]=(0,t.Lk)("i",{class:"fa fa-angle-double-right"},null,-1))])),_:1})])):(0,t.Q3)("",!0),0===l.blogsList.length?((0,t.uX)(),(0,t.CE)("div",C,[a[5]||(a[5]=(0,t.Lk)("i",{class:"fa fa-newspaper no-blogs-icon"},null,-1)),(0,t.Lk)("p",null,(0,s.v_)(e.$t("noBlogs")),1)])):(0,t.Q3)("",!0)])]),(0,t.bF)(T,{ref:"myModalRef","hide-footer":"",title:F.selectedBlog?M.getBlogLocalized("BlogTitle",F.selectedBlogIndex):"","dialog-class":"blog-modal","content-class":"blog-modal-content","header-class":"blog-modal-header","body-class":"blog-modal-body"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",$,[(0,t.Lk)("div",_,[(0,t.Lk)("img",{src:F.selectedBlog.featuredImageFullUrl,alt:M.getSignleLocalized("BlogTitle"),class:"img-fluid"},null,8,z),(0,t.Lk)("div",I,[(0,t.Lk)("span",A,[a[6]||(a[6]=(0,t.Lk)("i",{class:"fa fa-calendar-alt"},null,-1)),(0,t.eW)(" "+(0,s.v_)(M.formatDate(F.selectedBlog.updatedAt||F.selectedBlog.createdAt)),1)]),F.selectedBlog.author?((0,t.uX)(),(0,t.CE)("span",w,[a[7]||(a[7]=(0,t.Lk)("i",{class:"fa fa-user"},null,-1)),(0,t.eW)(" "+(0,s.v_)(F.selectedBlog.author),1)])):(0,t.Q3)("",!0)])]),(0,t.Lk)("div",x,[(0,t.Lk)("h3",E,(0,s.v_)(M.getSignleLocalized("BlogTitle")),1),(0,t.Lk)("div",{class:"blog-detail-text",innerHTML:M.formatContent(M.getSignleLocalized("Content"))},null,8,N)]),(0,t.Lk)("div",X,[(0,t.Lk)("button",{class:"blog-detail-close",onClick:a[0]||(a[0]=a=>e.$refs.myModalRef.hide())},(0,s.v_)(e.$t("close")),1)])])])),_:1},8,["title"])],64)}var F={props:{blogsList:{type:Array,required:!0},isHome:{type:Boolean,required:!1,default:!1},isConference:{type:Boolean,required:!1,default:!1}},data(){return{isLoading:!1,setting:{},blogs:[],selectedBlogIndex:null,selectedBlog:{}}},methods:{readMoreInfo(e){this.selectedBlogIndex=e,this.selectedBlog=this.blogsList[e],this.$refs.myModalRef.show()},getSignleLocalized(e){const a={ar:"arabic",en:"english",fa:"persian"},l=a[this.$i18n.locale];return this.selectedBlog[`${l}${e}`]||""},getBlogLocalized(e,a){const l={ar:"arabic",en:"english",fa:"persian"},t=l[this.$i18n.locale];return this.blogsList[a]&&this.blogsList[a][`${t}${e}`]||""},truncateContent(e){return e?e.length>120?e.substring(0,120)+"...":e:""},formatDate(e){if(!e)return"";const a=new Date(e);return new Intl.DateTimeFormat(this.$i18n.locale,{year:"numeric",month:"long",day:"numeric"}).format(a)},formatContent(e){return e?e.split("\n").map((e=>`<p>${e}</p>`)).join(""):""}}},M=l(6262);const P=(0,M.A)(F,[["render",S],["__scopeId","data-v-0da71535"]]);var T=P},6814:function(e,a,l){l.r(a),l.d(a,{default:function(){return w}});var t=l(641),s=l(33);const o={class:"blog-categories-container"},i={class:"categories-section"},n={class:"categories-title"},c={class:"title-text"},g={class:"categories-grid"},r=["onClick"],d={class:"category-content"},u={class:"category-name"},b={key:0,class:"loader-container"},L={key:1,class:"blogs-container"},k={class:"pagination-container"},h=["disabled"],f={class:"text"},p={class:"pagination-info"},v={class:"current-page"},m={class:"total-pages"},y=["disabled"],B={class:"text"};function C(e,a,l,C,$,_){const z=(0,t.g2)("Blog",!0);return(0,t.uX)(),(0,t.CE)("div",o,[(0,t.Lk)("div",i,[(0,t.Lk)("h3",n,[(0,t.Lk)("span",c,(0,s.v_)(e.$t("categories")),1)]),(0,t.Lk)("div",g,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)($.categories,((e,l)=>((0,t.uX)(),(0,t.CE)("button",{key:e.id,onClick:a=>_.filterBlogsByCategory(e.id),class:(0,s.C4)(["category-button",$.categoryId===e.id?"active":""])},[(0,t.Lk)("div",d,[(0,t.Lk)("span",u,(0,s.v_)(_.getLocalized("Name",l)),1)]),a[2]||(a[2]=(0,t.Lk)("div",{class:"category-shape"},null,-1)),a[3]||(a[3]=(0,t.Lk)("div",{class:"category-overlay"},null,-1))],10,r)))),128))])]),$.isLoading?((0,t.uX)(),(0,t.CE)("div",b,a[4]||(a[4]=[(0,t.Lk)("div",{class:"loader"},null,-1)]))):((0,t.uX)(),(0,t.CE)("div",L,[(0,t.bF)(z,{blogsList:$.blogs,isHome:!1},null,8,["blogsList"]),(0,t.Lk)("div",k,[(0,t.Lk)("button",{class:"pagination-button prev",disabled:1===$.pageNumber,onClick:a[0]||(a[0]=e=>_.changePage($.pageNumber-1))},[a[5]||(a[5]=(0,t.Lk)("span",{class:"arrow"},"←",-1)),(0,t.Lk)("span",f,(0,s.v_)(e.$t("nextPage")),1)],8,h),(0,t.Lk)("div",p,[(0,t.Lk)("span",v,(0,s.v_)($.pageNumber),1),a[6]||(a[6]=(0,t.Lk)("span",{class:"separator"},"من",-1)),(0,t.Lk)("span",m,(0,s.v_)(Math.ceil($.totalBlogs/$.pageSize)||1),1)]),(0,t.Lk)("button",{class:"pagination-button next",disabled:$.blogs.length<$.pageSize,onClick:a[1]||(a[1]=e=>_.changePage($.pageNumber+1))},[(0,t.Lk)("span",B,(0,s.v_)(e.$t("previousPage")),1),a[7]||(a[7]=(0,t.Lk)("span",{class:"arrow"},"→",-1))],8,y)])]))])}var $=l(3645),_=l(1631),z={components:{Blog:$.A},data(){return{isLoading:!1,blogs:[],categories:[],categoryId:null,pageNumber:1,pageSize:6,totalBlogs:0}},methods:{async fetchBlogs(){this.isLoading=!0;try{const e=await _.A.get(`Blog/GetAllBlogs?PageNumber=${this.pageNumber}&PageSize=${this.pageSize}&categoryId=${this.categoryId||""}`);this.blogs=e.data.items,this.totalBlogs=e.data.totalCount||0}catch(e){this.$toast.error("حدث خطأ أثناء جلب المقالات")}finally{this.isLoading=!1}},async getAllCategories(){this.isLoading=!0;try{const e=await _.A.get("Category/GetAllCategories?PageNumber=1&PageSize=111");this.categories=e.data.items}catch(e){this.$toast.error("حدث خطأ أثناء جلب الأقسام")}finally{this.isLoading=!1}},getLocalized(e,a){const l={ar:"arabic",en:"english",fa:"persian"},t=l[this.$i18n.locale];return this.categories[a]&&this.categories[a][`${t}${e}`]||""},filterBlogsByCategory(e){this.categoryId=e,this.pageNumber=1,this.fetchBlogs()},changePage(e){this.pageNumber=e,this.fetchBlogs()}},mounted(){this.fetchBlogs(),this.getAllCategories()}},I=l(6262);const A=(0,I.A)(z,[["render",C],["__scopeId","data-v-eeb5d826"]]);var w=A}}]);
//# sourceMappingURL=814.993dcda8.js.map