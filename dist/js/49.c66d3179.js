"use strict";(self["webpackChunkqexal"]=self["webpackChunkqexal"]||[]).push([[49],{49:function(e,a,t){t.r(a),t.d(a,{default:function(){return $}});var o=t(641),r=t(3751),n=t(33);const l={class:"container mt-4 cb",dir:"rtl"},i={class:"card"},s={class:"card-body"},d={class:"row"},c={class:"col-md-3"},m={class:"col-md-3"},u={class:"col-md-3"},p={class:"col-md-3"},f={class:"card mt-4"},h={class:"card-body"},b={class:"table table-striped table-hover mt-3"},g={class:"btn-group"},k=["onClick"],L=["onClick"],y={class:"mb-3"},N={class:"mb-3"},V={class:"mb-3"},C={class:"mb-3"};function v(e,a,t,v,F,w){const x=(0,o.g2)("BButton"),P=(0,o.g2)("b-pagination"),$=(0,o.g2)("BModal");return(0,o.uX)(),(0,o.CE)("div",l,[a[23]||(a[23]=(0,o.Lk)("h1",{class:"text-center mb-4"},"إدارة الإصدارات",-1)),(0,o.Lk)("div",i,[(0,o.Lk)("div",s,[(0,o.Lk)("form",{onSubmit:a[4]||(a[4]=(0,r.D$)(((...e)=>w.addConferenceVersion&&w.addConferenceVersion(...e)),["prevent"]))},[(0,o.Lk)("div",d,[(0,o.Lk)("div",c,[a[12]||(a[12]=(0,o.Lk)("label",{for:"arabicName",class:"form-label"},"الاسم بالعربية",-1)),(0,o.bo)((0,o.Lk)("input",{id:"arabicName",type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>F.form.arabicName=e),required:"",class:"form-control",placeholder:"الاسم بالعربية"},null,512),[[r.Jo,F.form.arabicName]])]),(0,o.Lk)("div",m,[a[13]||(a[13]=(0,o.Lk)("label",{for:"englishName",class:"form-label"},"الاسم بالإنجليزية",-1)),(0,o.bo)((0,o.Lk)("input",{id:"englishName",type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>F.form.englishName=e),required:"",class:"form-control",placeholder:"الاسم بالإنجليزية"},null,512),[[r.Jo,F.form.englishName]])]),(0,o.Lk)("div",u,[a[14]||(a[14]=(0,o.Lk)("label",{for:"persianName",class:"form-label"},"الاسم بالفارسية",-1)),(0,o.bo)((0,o.Lk)("input",{id:"persianName",type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>F.form.persianName=e),required:"",class:"form-control",placeholder:"الاسم بالفارسية"},null,512),[[r.Jo,F.form.persianName]])]),(0,o.Lk)("div",p,[a[15]||(a[15]=(0,o.Lk)("label",{for:"year",class:"form-label"},"السنة",-1)),(0,o.bo)((0,o.Lk)("input",{id:"year",type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>F.form.year=e),required:"",class:"form-control",placeholder:"السنة"},null,512),[[r.Jo,F.form.year]])])]),(0,o.bF)(x,{type:"submit",variant:"primary",loading:F.isLoading,"loading-text":"يرجى الانتظار",disabled:F.isLoading},{default:(0,o.k6)((()=>a[16]||(a[16]=[(0,o.eW)("اضافة")]))),_:1},8,["loading","disabled"])],32)])]),(0,o.Lk)("div",f,[(0,o.Lk)("div",h,[(0,o.Lk)("table",b,[a[17]||(a[17]=(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[(0,o.Lk)("th",null,"الرقم"),(0,o.Lk)("th",null,"الاسم بالعربية"),(0,o.Lk)("th",null,"الاسم بالإنجليزية"),(0,o.Lk)("th",null,"الاسم بالفارسية"),(0,o.Lk)("th",null,"السنة"),(0,o.Lk)("th",null,"الإجراءات")])],-1)),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(F.conferenceVersions,((e,a)=>((0,o.uX)(),(0,o.CE)("tr",{key:e.id},[(0,o.Lk)("td",null,(0,n.v_)((F.currentPage-1)*F.pageSize+a+1),1),(0,o.Lk)("td",null,(0,n.v_)(e.arabicName),1),(0,o.Lk)("td",null,(0,n.v_)(e.englishName),1),(0,o.Lk)("td",null,(0,n.v_)(e.persianName),1),(0,o.Lk)("td",null,(0,n.v_)(e.year),1),(0,o.Lk)("td",null,[(0,o.Lk)("div",g,[(0,o.Lk)("button",{class:"btn btn-warning btn-sm",onClick:a=>w.openEditModal(e)}," تعديل ",8,k),(0,o.Lk)("button",{class:"btn btn-danger btn-sm",onClick:a=>w.deleteConferenceVersion(e.id)}," حذف ",8,L)])])])))),128))])]),F.totalPages>1?((0,o.uX)(),(0,o.Wv)(P,{key:0,modelValue:F.currentPage,"onUpdate:modelValue":a[5]||(a[5]=e=>F.currentPage=e),"total-rows":F.totalCount,"per-page":F.pageSize,variant:"primary",class:"mt-3",onChange:e.fetchData},null,8,["modelValue","total-rows","per-page","onChange"])):(0,o.Q3)("",!0)])]),(0,o.bF)($,{modelValue:F.editModal,"onUpdate:modelValue":a[11]||(a[11]=e=>F.editModal=e),"hide-footer":"","hide-header":""},{default:(0,o.k6)((()=>[(0,o.Lk)("form",{onSubmit:a[10]||(a[10]=(0,r.D$)(((...e)=>w.updateConferenceVersion&&w.updateConferenceVersion(...e)),["prevent"]))},[(0,o.Lk)("div",y,[a[18]||(a[18]=(0,o.Lk)("label",{for:"editArabicName",class:"form-label"},"الاسم بالعربية",-1)),(0,o.bo)((0,o.Lk)("input",{id:"editArabicName",type:"text","onUpdate:modelValue":a[6]||(a[6]=e=>F.editForm.arabicName=e),required:"",class:"form-control",placeholder:"الاسم بالعربية"},null,512),[[r.Jo,F.editForm.arabicName]])]),(0,o.Lk)("div",N,[a[19]||(a[19]=(0,o.Lk)("label",{for:"editEnglishName",class:"form-label"},"الاسم بالإنجليزية",-1)),(0,o.bo)((0,o.Lk)("input",{id:"editEnglishName",type:"text","onUpdate:modelValue":a[7]||(a[7]=e=>F.editForm.englishName=e),required:"",class:"form-control",placeholder:"الاسم بالإنجليزية"},null,512),[[r.Jo,F.editForm.englishName]])]),(0,o.Lk)("div",V,[a[20]||(a[20]=(0,o.Lk)("label",{for:"editPersianName",class:"form-label"},"الاسم بالفارسية",-1)),(0,o.bo)((0,o.Lk)("input",{id:"editPersianName",type:"text","onUpdate:modelValue":a[8]||(a[8]=e=>F.editForm.persianName=e),required:"",class:"form-control",placeholder:"الاسم بالفارسية"},null,512),[[r.Jo,F.editForm.persianName]])]),(0,o.Lk)("div",C,[a[21]||(a[21]=(0,o.Lk)("label",{for:"editYear",class:"form-label"},"السنة",-1)),(0,o.bo)((0,o.Lk)("input",{id:"editYear",type:"text","onUpdate:modelValue":a[9]||(a[9]=e=>F.editForm.year=e),required:"",class:"form-control",placeholder:"السنة"},null,512),[[r.Jo,F.editForm.year]])]),(0,o.bF)(x,{type:"submit",variant:"primary",loading:F.isLoading,"loading-text":"يرجى الانتظار"},{default:(0,o.k6)((()=>a[22]||(a[22]=[(0,o.eW)("حفظ التغييرات")]))),_:1},8,["loading"])],32)])),_:1},8,["modelValue"])])}var F=t(1631),w={data(){return{totalPages:0,totalCount:0,pageSize:10,currentPage:1,isLoading:!1,editModal:!1,form:{arabicName:"",englishName:"",persianName:"",year:""},editForm:{id:null,arabicName:"",englishName:"",persianName:"",year:""},conferenceVersions:[]}},methods:{async fetchConferenceVersions(){try{const e=await F.A.get(`ConferenceVersion/GetAllConferenceVersions?PageNumber=${this.currentPage}&PageSize=${this.pageSize}`);this.conferenceVersions=e.data.items,this.totalPages=e.data.totalPages,this.totalCount=e.data.totalCount,this.pageNumber=e.data.pageNumber}catch(e){console.error("Error fetching conference versions:",e)}},async addConferenceVersion(){this.isLoading=!0;try{await F.A.post("ConferenceVersion/AddConferenceVersion",this.form),this.fetchConferenceVersions(),this.resetForm(),this.$toast.open({message:"تم بنجاح",type:"success"})}catch(e){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}},openEditModal(e){this.editForm={...e},this.editModal=!0},async updateConferenceVersion(){this.isLoading=!0;try{await F.A.put(`ConferenceVersion/UpdateConferenceVersion?id=${this.editForm.id}`,this.editForm),this.fetchConferenceVersions(),this.editModal=!1,this.$toast.open({message:"تم بنجاح",type:"success"})}catch(e){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}},async deleteConferenceVersion(e){const{value:a}=await this.$swal({title:"هل انت متأكد من الحذف",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم",cancelButtonText:"لا"});if(a){this.isLoading=!0;try{await F.A.delete(`ConferenceVersion/DeleteConferenceVersion?id=${e}`),this.fetchConferenceVersions(),this.$toast.open({message:"تم بنجاح",type:"success"})}catch(t){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}}},resetForm(){this.form={arabicName:"",englishName:"",persianName:"",year:""}},resetEditForm(){this.editForm={id:null,arabicName:"",englishName:"",persianName:"",year:""}}},watch:{currentPage(){this.fetchConferenceVersions()}},created(){this.fetchConferenceVersions()}},x=t(6262);const P=(0,x.A)(w,[["render",v]]);var $=P}}]);
//# sourceMappingURL=49.c66d3179.js.map