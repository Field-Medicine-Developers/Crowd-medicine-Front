"use strict";(self["webpackChunkqexal"]=self["webpackChunkqexal"]||[]).push([[923],{6457:function(e,i,t){t.d(i,{A:function(){return d}});var n=t(641);const o={class:"container mt-4 cb",dir:"rtl"};function a(e,i,t,a,r,s){const l=(0,n.g2)("BFormSelect");return(0,n.uX)(),(0,n.CE)("div",o,[i[2]||(i[2]=(0,n.Lk)("h2",{class:"text-center mb-4"},"اختر المؤتمر ",-1)),(0,n.bF)(l,{modelValue:r.form.conferenceVersionID,"onUpdate:modelValue":i[0]||(i[0]=e=>r.form.conferenceVersionID=e),options:r.conferenceVersionsList,onChange:i[1]||(i[1]=e=>s.fetchId())},null,8,["modelValue","options"])])}var r=t(1631),s={name:"conferenceVersionSelect",data(){return{conferenceVersionsList:[],form:{conferenceVersionID:null}}},methods:{async fetchConferenceVersions(){this.isLoading=!0;try{const e=await r.A.get("ConferenceVersion/GetAllConferenceVersions?PageNumber=1&PageSize=100");this.conferenceVersionsList=e.data.items.map((e=>({text:e.arabicName+" - "+e.year,value:e.id})))}catch(e){console.error("Error fetching conference versions:",e)}finally{this.isLoading=!1}},fetchId(){this.$emit("fetch-id",this.form.conferenceVersionID)}},mounted(){this.fetchConferenceVersions()}},l=t(6262);const c=(0,l.A)(s,[["render",a]]);var d=c},8923:function(e,i,t){t.r(i),t.d(i,{default:function(){return S}});var n=t(641),o=t(3751),a=t(33);const r={key:0,class:"container mt-4 cb",dir:"rtl"},s={class:"card"},l={class:"card-body"},c={class:"row"},d={class:"col-md-4"},p={class:"col-md-4"},m={class:"col-md-4"},h={class:"col-md-4 mt-3"},u={class:"col-md-4 mt-3"},f={class:"col-md-4 mt-3"},b={class:"col-md-4 mt-3"},g={class:"card mt-4"},L={class:"card-body"},k={class:"table table-striped table-hover mt-3"},D=["src"],V={class:"btn-group"},F=["onClick"],y=["onClick"],T={class:"mb-3"},v={class:"mb-3"},C={class:"mb-3"},I={class:"mb-3"},N={class:"mb-3"},x={class:"mb-3"},w={class:"mb-3"};function E(e,i,t,E,P,A){const U=(0,n.g2)("conferenceVersionSelect"),$=(0,n.g2)("BButton"),J=(0,n.g2)("b-pagination"),S=(0,n.g2)("BModal");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(U,{onFetchId:A.fetchTips},null,8,["onFetchId"]),null!==P.conferenceVersionID?((0,n.uX)(),(0,n.CE)("div",r,[i[35]||(i[35]=(0,n.Lk)("h1",{class:"text-center mb-4"},"عناصر المحاور",-1)),(0,n.Lk)("div",s,[(0,n.Lk)("div",l,[(0,n.Lk)("form",{onSubmit:i[7]||(i[7]=(0,o.D$)(((...e)=>A.addCategories&&A.addCategories(...e)),["prevent"])),enctype:"multipart/form-data"},[(0,n.Lk)("div",c,[(0,n.Lk)("div",d,[i[18]||(i[18]=(0,n.Lk)("label",{for:"arabicName",class:"form-label"},"الاسم بالعربية",-1)),(0,n.bo)((0,n.Lk)("input",{id:"arabicName",type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>P.form.arabicTitle=e),required:"",class:"form-control",placeholder:"الاسم بالعربية"},null,512),[[o.Jo,P.form.arabicTitle]])]),(0,n.Lk)("div",p,[i[19]||(i[19]=(0,n.Lk)("label",{for:"englishName",class:"form-label"},"الاسم بالإنجليزية",-1)),(0,n.bo)((0,n.Lk)("input",{id:"englishName",type:"text","onUpdate:modelValue":i[1]||(i[1]=e=>P.form.englishTitle=e),required:"",class:"form-control",placeholder:"الاسم بالإنجليزية"},null,512),[[o.Jo,P.form.englishTitle]])]),(0,n.Lk)("div",m,[i[20]||(i[20]=(0,n.Lk)("label",{for:"persianName",class:"form-label"},"الاسم بالفارسية",-1)),(0,n.bo)((0,n.Lk)("input",{id:"persianName",type:"text","onUpdate:modelValue":i[2]||(i[2]=e=>P.form.persianTitle=e),required:"",class:"form-control",placeholder:"الاسم بالفارسية"},null,512),[[o.Jo,P.form.persianTitle]])]),(0,n.Lk)("div",h,[i[21]||(i[21]=(0,n.Lk)("label",{for:"arabicDescription",class:"form-label"},"الوصف بالعربية",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"arabicDescription","onUpdate:modelValue":i[3]||(i[3]=e=>P.form.arabicDescription=e),class:"form-control",placeholder:"الوصف بالعربية"},null,512),[[o.Jo,P.form.arabicDescription]])]),(0,n.Lk)("div",u,[i[22]||(i[22]=(0,n.Lk)("label",{for:"englishDescription",class:"form-label"},"الوصف بالإنجليزية",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"englishDescription","onUpdate:modelValue":i[4]||(i[4]=e=>P.form.englishDescription=e),class:"form-control",placeholder:"الوصف بالإنجليزية"},null,512),[[o.Jo,P.form.englishDescription]])]),(0,n.Lk)("div",f,[i[23]||(i[23]=(0,n.Lk)("label",{for:"persianDescription",class:"form-label"},"الوصف بالفارسية",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"persianDescription","onUpdate:modelValue":i[5]||(i[5]=e=>P.form.persianDescription=e),class:"form-control",placeholder:"الوصف بالفارسية"},null,512),[[o.Jo,P.form.persianDescription]])]),(0,n.Lk)("div",b,[i[24]||(i[24]=(0,n.Lk)("label",{for:"icon",class:"form-label"},"الأيقونة",-1)),(0,n.Lk)("input",{id:"icon",type:"file",onChange:i[6]||(i[6]=(...e)=>A.onFileChange&&A.onFileChange(...e)),class:"form-control",accept:"image/*"},null,32)])]),(0,n.bF)($,{type:"submit",variant:"primary",loading:P.isLoading,"loading-text":"يرجى الانتظار",disabled:P.isLoading},{default:(0,n.k6)((()=>i[25]||(i[25]=[(0,n.eW)("اضافة")]))),_:1},8,["loading","disabled"])],32)])]),(0,n.Lk)("div",g,[(0,n.Lk)("div",L,[(0,n.Lk)("table",k,[i[26]||(i[26]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"الرقم"),(0,n.Lk)("th",null,"الايقونة"),(0,n.Lk)("th",null,"الاسم بالعربية"),(0,n.Lk)("th",null,"الاسم بالإنجليزية"),(0,n.Lk)("th",null,"الاسم بالفارسية"),(0,n.Lk)("th",null,"الإجراءات")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(P.categories,((e,i)=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("td",null,(0,a.v_)((P.currentPage-1)*P.pageSize+i+1),1),(0,n.Lk)("td",null,[(0,n.Lk)("img",{src:e.iconFullUrl,alt:"icon",style:{width:"50px",height:"50px"}},null,8,D)]),(0,n.Lk)("td",null,(0,a.v_)(e.arabicName),1),(0,n.Lk)("td",null,(0,a.v_)(e.englishName),1),(0,n.Lk)("td",null,(0,a.v_)(e.persianName),1),(0,n.Lk)("td",null,[(0,n.Lk)("div",V,[(0,n.Lk)("button",{class:"btn btn-warning btn-sm",onClick:i=>A.openEditModal(e)}," تعديل ",8,F),(0,n.Lk)("button",{class:"btn btn-danger btn-sm",onClick:i=>A.deleteTips(e.id)}," حذف ",8,y)])])])))),128))])]),P.totalPages>1?((0,n.uX)(),(0,n.Wv)(J,{key:0,modelValue:P.currentPage,"onUpdate:modelValue":i[8]||(i[8]=e=>P.currentPage=e),"total-rows":P.totalCount,"per-page":P.pageSize,variant:"primary",class:"mt-3",onChange:e.fetchData},null,8,["modelValue","total-rows","per-page","onChange"])):(0,n.Q3)("",!0)])]),(0,n.bF)(S,{modelValue:P.editModal,"onUpdate:modelValue":i[17]||(i[17]=e=>P.editModal=e),"hide-footer":"","hide-header":""},{default:(0,n.k6)((()=>[(0,n.Lk)("form",{onSubmit:i[16]||(i[16]=(0,o.D$)(((...e)=>A.updateTips&&A.updateTips(...e)),["prevent"]))},[(0,n.Lk)("div",T,[i[27]||(i[27]=(0,n.Lk)("label",{for:"editArabicName",class:"form-label"},"الاسم بالعربية",-1)),(0,n.bo)((0,n.Lk)("input",{id:"editArabicName",type:"text","onUpdate:modelValue":i[9]||(i[9]=e=>P.editForm.arabicName=e),required:"",class:"form-control",placeholder:"الاسم بالعربية"},null,512),[[o.Jo,P.editForm.arabicName]])]),(0,n.Lk)("div",v,[i[28]||(i[28]=(0,n.Lk)("label",{for:"editEnglishName",class:"form-label"},"الاسم بالإنجليزية",-1)),(0,n.bo)((0,n.Lk)("input",{id:"editEnglishName",type:"text","onUpdate:modelValue":i[10]||(i[10]=e=>P.editForm.englishName=e),required:"",class:"form-control",placeholder:"الاسم بالإنجليزية"},null,512),[[o.Jo,P.editForm.englishName]])]),(0,n.Lk)("div",C,[i[29]||(i[29]=(0,n.Lk)("label",{for:"editPersianName",class:"form-label"},"الاسم بالفارسية",-1)),(0,n.bo)((0,n.Lk)("input",{id:"editPersianName",type:"text","onUpdate:modelValue":i[11]||(i[11]=e=>P.editForm.persianName=e),required:"",class:"form-control",placeholder:"الاسم بالفارسية"},null,512),[[o.Jo,P.editForm.persianName]])]),(0,n.Lk)("div",I,[i[30]||(i[30]=(0,n.Lk)("label",{for:"editArabicDescription",class:"form-label"},"الوصف بالعربية",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"editArabicDescription","onUpdate:modelValue":i[12]||(i[12]=e=>P.editForm.arabicDescription=e),required:"",class:"form-control",rows:"3",placeholder:"الوصف بالعربية"},null,512),[[o.Jo,P.editForm.arabicDescription]])]),(0,n.Lk)("div",N,[i[31]||(i[31]=(0,n.Lk)("label",{for:"editEnglishDescription",class:"form-label"},"الوصف بالإنجليزية",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"editEnglishDescription","onUpdate:modelValue":i[13]||(i[13]=e=>P.editForm.englishDescription=e),required:"",class:"form-control",rows:"3",placeholder:"الوصف بالإنجليزية"},null,512),[[o.Jo,P.editForm.englishDescription]])]),(0,n.Lk)("div",x,[i[32]||(i[32]=(0,n.Lk)("label",{for:"editPersianDescription",class:"form-label"},"الوصف بالفارسية",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"editPersianDescription","onUpdate:modelValue":i[14]||(i[14]=e=>P.editForm.persianDescription=e),required:"",class:"form-control",rows:"3",placeholder:"الوصف بالفارسية"},null,512),[[o.Jo,P.editForm.persianDescription]])]),(0,n.Lk)("div",w,[i[33]||(i[33]=(0,n.Lk)("label",{for:"editIcon",class:"form-label"},"الأيقونة",-1)),(0,n.Lk)("input",{id:"editIcon",type:"file",onChange:i[15]||(i[15]=(...e)=>A.onFileEditChange&&A.onFileEditChange(...e)),class:"form-control",accept:"image/*"},null,32)]),(0,n.bF)($,{type:"submit",variant:"primary",loading:P.isLoading,"loading-text":"يرجى الانتظار"},{default:(0,n.k6)((()=>i[34]||(i[34]=[(0,n.eW)("حفظ التغييرات")]))),_:1},8,["loading"])],32)])),_:1},8,["modelValue"])])):(0,n.Q3)("",!0)],64)}var P=t(1631),A=t(6457),U={components:{conferenceVersionSelect:A.A},data(){return{conferenceVersionID:null,totalPages:0,totalCount:0,pageSize:10,currentPage:1,isLoading:!1,editModal:!1,form:{arabicTitle:"",englishTitle:"",persianTitle:"",arabicDescription:"",englishDescription:"",persianDescription:"",icon:null,conferenceVersionID:null},editForm:{id:null,arabicTitle:"",englishTitle:"",persianTitle:"",arabicDescription:"",englishDescription:"",persianDescription:"",icon:null,conferenceVersionID:null},categories:[]}},methods:{onFileChange(e){this.form.icon=e.target.files[0]},onFileEditChange(e){this.editForm.icon=e.target.files[0]},async addCategories(){this.isLoading=!0;try{const e=new FormData;e.append("ArabicName",this.form.arabicTitle),e.append("EnglishName",this.form.englishTitle),e.append("PersianName",this.form.persianTitle),e.append("ArabicDescription",this.form.arabicDescription),e.append("EnglishDescription",this.form.englishDescription),e.append("PersianDescription",this.form.persianDescription),e.append("IconFile",this.form.icon),e.append("ConferenceVersionID",this.conferenceVersionID),await P.A.post("Tips/AddTipItem",e,{headers:{"Content-Type":"multipart/form-data"}}),this.$toast.open({message:"تم بنجاح",type:"success"}),this.fetchTips(this.conferenceVersionID),this.resetForm()}catch(e){this.$toast.open({message:"يوجد خطأ ما",type:"error"})}finally{this.isLoading=!1}},async fetchTips(e){this.conferenceVersionID=e,this.form.conferenceVersionID=e;try{const i=await P.A.get(`Tips/GetTipItemByConferenceVersionID?PageNumber=${this.currentPage}&PageSize=${this.pageSize}&conferenceVersionID=${e}`);this.categories=i.data.items}catch(i){console.error("Error fetching conference versions:",i)}},openEditModal(e){this.editForm={...e},this.editModal=!0},async updateTips(){this.isLoading=!0;const e=new FormData;e.append("ArabicName",this.editForm.arabicName),e.append("EnglishName",this.editForm.englishName),e.append("PersianName",this.editForm.persianName),e.append("ArabicDescription",this.editForm.arabicDescription),e.append("EnglishDescription",this.editForm.englishDescription),e.append("PersianDescription",this.editForm.persianDescription),e.append("IconFile",this.editForm.icon),e.append("ConferenceVersionID",this.conferenceVersionID);try{await P.A.put(`Tips/UpdateTipItem?id=${this.editForm.id}`,e,{headers:{"Content-Type":"multipart/form-data"}}),this.$toast.open({message:"تم بنجاح",type:"success"}),this.fetchTips(this.conferenceVersionID),this.editModal=!1}catch(i){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}},async deleteTips(e){const{value:i}=await this.$swal({title:"هل انت متأكد من الحذف",icon:"warning",showCancelButton:!0,confirmButtonText:"نعم",cancelButtonText:"لا"});if(i){this.isLoading=!0;try{await P.A.delete(`Tips/DeleteTips?id=${e}`),this.fetchTips(this.conferenceVersionID),this.$toast.open({message:"تم بنجاح",type:"success"})}catch(t){this.$toast.open({message:"يوجد خطا ما",type:"error"})}finally{this.isLoading=!1}}},resetForm(){this.form={arabicTitle:"",englishTitle:"",persianTitle:"",arabicDescription:"",englishDescription:"",persianDescription:"",icon:null,conferenceVersionID:null}},resetEditForm(){this.editForm={id:null,arabicTitle:"",englishTitle:"",persianTitle:"",arabicDescription:"",englishDescription:"",persianDescription:"",icon:null,conferenceVersionID:null}}},watch:{currentPage(){this.fetchTips(this.conferenceVersionID)}}},$=t(6262);const J=(0,$.A)(U,[["render",E]]);var S=J}}]);
//# sourceMappingURL=923.186a6b76.js.map